generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model AccountCard {
  NumberVersion       String            @id
  Id                  Int
  Name                String
  DateOfCreateVersion DateTime          @db.Timetz(6)
  Status              String
  ConnectionTable     ConnectionTable[]
}

model ConnectionTable {
  Id                       Int           @id @default(autoincrement())
  AccountCardNumberVersion String
  FieldCardName            String
  ValueStringId            Int?
  ValueIntegerId           Int?
  AccountCard              AccountCard   @relation(fields: [AccountCardNumberVersion], references: [NumberVersion], onDelete: NoAction, onUpdate: NoAction)
  FieldCard                FieldCard     @relation(fields: [FieldCardName], references: [Name], onDelete: NoAction, onUpdate: NoAction)
  ValueInteger             ValueInteger? @relation(fields: [ValueIntegerId], references: [Id], onDelete: NoAction, onUpdate: NoAction)
  ValueString              ValueString?  @relation(fields: [ValueStringId], references: [Id], onDelete: NoAction, onUpdate: NoAction)
}

model FieldCard {
  Name            String            @id
  DataType        String
  ConnectionTable ConnectionTable[]
}

model ValueInteger {
  Value           Int               @unique
  Id              Int               @id @default(autoincrement())
  ConnectionTable ConnectionTable[]
}

model ValueString {
  Value           String            @unique(map: "ValueStrings_Value_key")
  Id              Int               @id(map: "Pk_ValueString") @default(autoincrement())
  ConnectionTable ConnectionTable[]
}
