generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model AccountCard {
  NumberVersion       String            @id
  Id                  Int
  Name                String
  DateOfCreateVersion DateTime          @db.Time(6)
  Status              String
  ConnectionTable     ConnectionTable[]
}

model ConnectionTable {
  Id                       Int            @id
  AccountCardNumberVersion String
  FieldCardName            String
  AccountCard              AccountCard    @relation(fields: [AccountCardNumberVersion], references: [NumberVersion], onDelete: NoAction, onUpdate: NoAction)
  FieldCard                FieldCard      @relation(fields: [FieldCardName], references: [Name], onDelete: NoAction, onUpdate: NoAction)
  ValueInteger             ValueInteger[]
  ValueString              ValueString[]
}

model FieldCard {
  Name            String            @id
  DataType        String
  ConnectionTable ConnectionTable[]
}

model ValueInteger {
  Id                String           @id(map: "PK_ValueIntegers")
  Value             String           @unique(map: "ValueIntegers_Value_key")
  ConnectionTableId Int?
  ConnectionTable   ConnectionTable? @relation(fields: [ConnectionTableId], references: [Id], onDelete: NoAction, onUpdate: NoAction)
}

model ValueString {
  Id                String          @id(map: "PK_ValueStrings")
  Value             String          @unique(map: "ValueStrings_Value_key")
  ConnectionTableId Int
  ConnectionTable   ConnectionTable @relation(fields: [ConnectionTableId], references: [Id], onDelete: NoAction, onUpdate: NoAction)
}
